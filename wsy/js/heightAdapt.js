function wp_heightAdapt(E,U){if(E==undefined){return false}if($.inArray(E.attr("type"),["bslider"])!=-1){return}var R=function(){var i=E.data("oriheight");if(!i){i=E.children("div").eq(0).height();E.data("oriheight",i)}return i};var e=function(m){var u=m.data("adaptoritop");var l=m.data("adaptoriheight");var r=m.data("adaptpress");var j=m.data("adaptwrap");var q=E.prop("id");var o=$.parseInteger(m.css("top"));if(!u&&u!==0){m.data("adaptoritop",o);m.data("adaptoriheight",m.height());return}if(r&&r.length){for(var n=0;n<r.length;n++){var t=r[n];if(t.id!=q){u+=t.diffY}}}if(j&&j.length){var p=l;for(var n=0;n<j.length;n++){var k=j[n];if(k.id!=q){p+=k.diffH}}if(p!=m.height()){m.css("height",p+"px");var v=parseInt(m.children("div").eq(0).css("padding-top"))+parseInt(m.children("div").eq(0).css("padding-bottom"));var s=parseInt(m.children("div").eq(0).css("border-top-width"))+parseInt(m.children("div").eq(0).css("border-bottom-width"));m.children("div").eq(0).height(m.height()-v-s)}}if(u!=o){m.css("top",u+"px")}};var J=$("#canvas").data("adaptoriheight");if(!J){$("#canvas").data("adaptoriheight",$("#canvas").height());J=$("#canvas").data("adaptoriheight")}var C=R();var H=E.children("div").eq(0).height();e(E);E.children("div").eq(0).css("height","auto");var W=E.children("div").eq(0).height();if(W<C){E.children("div").eq(0).css("height",C+"px");if(C==H){return}}else{var B=parseInt(E.children("div").eq(0).css("border-top-width"))+parseInt(E.children("div").eq(0).css("border-bottom-width"));if(B>0){W=W-B}E.children("div").eq(0).css("height",W+"px");if(W==H){return}}var A=parseInt(E.children("div").eq(0).css("padding-top"))+parseInt(E.children("div").eq(0).css("padding-bottom"));var S=parseInt(E.children("div").eq(0).css("border-top-width"))+parseInt(E.children("div").eq(0).css("border-bottom-width"));var V=U||C+A+S;var a=E.children("div").eq(0).outerHeight();var L=E.outerWidth();var K=E.ab_pos_cnter("top");var G=E.ab_pos_cnter("left");var Y=G+E.outerWidth();var g=0;var M=new Array();var P=new Array();var f=0,N=0;var O=0;$("#canvas").find(".cstlayer,.full_column").each(function(){e($(this));var i=$(this).ab_pos_cnter("left"),k=$(this).ab_pos_cnter("top"),j=$(this).outerWidth(),l=$(this).outerHeight();if($(this).hasClass("cstlayer")){if(i+j<G){return true}if(i>Y){return true}if(E.attr("id")==$(this).attr("id")){return true}if((i<=G&&i+j>=Y)&&(k<=K&&k+l>=K+V)){P.push($(this).attr("id"));return true}if($(this).parent().hasClass("full_content")||$(this).parent().hasClass("footer_content")){return true}}if(k>=(K+V)){M.push($(this).attr("id"));if(f==0){f=k;N=$(this).attr("id")}else{if(f>k){f=k;N=$(this).attr("id")}}}});g=$("#"+N).ab_pos_cnter("top")-(K+V);if(M.length>0&&(K+a)>=f){O=K+a+g-f;for(var d=0;d<M.length;d++){var Z=$("#"+M[d]);Z.css("top",(parseInt(Z.ab_pos_cnter("top"))+O)+"px");var b=Z.data("adaptpress");if(!b){b=[]}var D=[];for(var c=0;c<b.length;c++){if(b[c].id!=E.prop("id")){D.push(b[c])}}D.push({id:E.prop("id"),diffY:O});Z.data("adaptpress",D)}}if(P.length>0){for(var d=0;d<P.length;d++){var T=a-V;var Z=$("#"+P[d]);Z.height($("#"+P[d]).height()+(T));var F=parseInt(Z.children("div").eq(0).css("padding-top"))+parseInt($("#"+P[d]).children("div").eq(0).css("padding-bottom"));var I=parseInt(Z.children("div").eq(0).css("border-top-width"))+parseInt($("#"+P[d]).children("div").eq(0).css("border-bottom-width"));Z.children("div").eq(0).height(Z.height()-F-I);var Q=Z.data("adaptwrap");if(!Q){Q=[]}var X=[];for(var c=0;c<Q.length;c++){if(Q[c].id!=E.prop("id")){X.push(Q[c])}}X.push({id:E.prop("id"),diffH:T});Z.data("adaptwrap",X)}}if(E.attr("type")=="fxdp"){E.height(E.children("div").eq(0).height()+A+S+50)}else{E.height(E.children("div").eq(0).height()+A+S)}var h=$("#canvas").height();if(h!=J){$("#canvas").css("height",J)}scroll_container_adjust()};